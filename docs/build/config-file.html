<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>설정 파일</title>
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Roboto+Mono">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.7.3/styles/tomorrow.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/m42kup@0.3.1/web/m42kup.default.css">
		<style>
			* {
				box-sizing: border-box;
			}

			html, body {
				margin: 0;
				padding: 0;
			}

			body {
				padding: 0; 
				margin: 0;
				font: 16px Roboto, sans-serif;
				font-weight: 400;
				-webkit-font-smoothing: antialiased;
				color: #5f6368;
				line-height: 1.5;
				word-break: normal;
				overflow-wrap: break-word;
			}

			h1, h2, h3, h4, h5, h6 {
				font-weight: 400;
				line-height: 1.2;
			}

			h1, h2, h3, h4, h5, h6, a, b, strong, input, textarea, th, .katex {
				color: #202124;
			}

			img {
				max-width: 100%;
			}

			pre, pre.hljs, code {
				font-family: Consolas, 'Roboto Mono', monospace;
				background-color: rgba(0,0,0,.05);
				white-space: pre-wrap;
				word-break: break-all;
				tab-size: 4;
			}

			pre {
				padding: 6px;
			}

			code {
				font-size: .85em;
				padding: .15em .3em;
				border-radius: .3em;
			}

			pre code {
				background-color: unset;
				padding: 0;
			}

			p {
				margin: 0;
			}

			p + p {
				margin-top: 1em;
			}

			ul, ol {
				margin: 1em 0;
			}

			ol li, ul li {
				margin: .5em 0;
			}

			table {
				margin: 1em 0;
				border-collapse: collapse;
			}

			table tr td {
				border: 1px #ccc solid;
				padding: .6em;
			}

			kbd {
				font: .85em 'Roboto Mono', monospace;
				color: #202124;
				border: 1px #ccc solid;
				padding: .1em;
				border-radius: .2em;
			}

			blockquote {
				margin: 1em 0;
				padding: .5em 20px;
				border-left: 5px #202124 solid;
				background-color: #f7f7f7;
			}

			#toc {
				position: fixed;
				z-index: 1;
				overflow-y: auto;
				top: 0;
				left: 0;
				bottom: 0;
				width: 280px;
				height: 100%;
				background-color: #f1f1f1;
				padding-bottom:100px;
			}

			#toc > div {
				display: block;
				text-align: center;
				background-color: #263238;
				padding: 1.5em;
			}

			#toc > div button {
				background: none;
				border: none;
				vertical-align: middle;
				display: none;
			}

			#toc > div a {
				color: white;
				text-decoration: none;
			}

			#toc ol {
				padding: 0;
				margin: 0;
			}

			#toc > ol {
				background-color: #f1f1f1;
			}

			#toc ol li {
				list-style: none;
				margin: 0;
			}

			#toc ol li a {
				display: block;
				padding: .5em;
				text-decoration: none;
			}

			#toc ol li a:hover {
				background-color: rgba(0, 0, 0, .12);
			}

			#toc ol li ol {
				padding: 0;
				margin: 0;
				background-color: rgba(0, 0, 0, .08);
				font-size: .85em;
			}

			#toc ol li ol li {
				list-style: none;
			}

			#content {
				margin-left: 280px;
				padding: 1em;
				padding-top: 30px;
				padding-bottom: 150px;
			}

			@media screen and (max-width: 800px) {
				#toc {
					position: fixed;
					width: 100%;
					top: 0;
					border-bottom: 1px #ccc solid;
				}

				#toc:not(.toc-expanded) {
					bottom: unset;
					height: unset;
					padding-bottom: 0;
					box-shadow: 0 0 2px 0 rgba(0,0,0,.16), 0 0 0 1px rgba(0,0,0,.08);
				}

				#toc.toc-expanded .toc-on-folded {
					display: none;
				}

				#toc:not(.toc-expanded) .toc-on-expanded {
					display: none;
				}

				#toc > div {
					padding: 1em;
					text-align: left;
					height: 60px;
				}

				#toc > div button {
					display: inline-block;
					margin-right: 1em;
				}

				#content {
					margin-left: 0;
					margin-top: 60px;
				}
			}
		</style>
		
	</head>
	<body>
		<div id="toc">
			<div>
						<button id="toc-fold-toggle">
							<svg class="toc-on-folded" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#fff"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
							<svg class="toc-on-expanded" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#fff"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
						</button>
						<a href="./index.html">documentation-generator 설명서</a>
					</div>
					<ol class="toc-on-expanded"><li><div><a href="./introduction.html">소개</a></div></li><li><div><a href="./config-file.html">설정 파일</a></div></li><li><div><a href="./templates.html">커스텀 템플릿</a></div></li><li><div><a href="./honeytip.html">꿀팁</a></div></li></ol>
		</div>
		<div id="content">
			
				<h1>설정 파일</h1><p><code>documentation-generator</code>로 빌드를 하려면 소스 디렉터리나 결과 디렉터리, 문서 계층 구조 등을 표시한 설정 파일이 있어야 한다. 옵션을 주지 않으면 기본적으로 프로젝트 디렉터리에서 <code>documentation-generator.config.js</code>를 찾는다. 설정 파일이 다른 경로에 있다면 <code>--config</code> 옵션을 통해 절대 경로나 프로젝트 디렉터리에 상대적인 경로를 제공해야 한다.</p><p>설정 파일은 JavaScript로 작성되며 다음과 같은 객체를 export 해야 한다.</p><pre><code>{
	name: string,
	src: string,
	dst: string,
	template?: string,
	templateData?: {
		[key: string]: any
	},
	render: (text: string) =&gt; string,
	list: ListType = (
		{name: string, file: string} 
		| {name: string, dir: string, list: ListType}
	)[];
}
</code></pre><p>각각의 속성의 의미는 다음과 같다.</p><ul><li><p> <code>name: string</code>: 설명서의 이름. 이 설명서에서는 “documentation-generator 설명서”이다.
	</p></li><li><p> <code>src: string</code>: 소스 파일이 있는 디렉터리. 절대적이거나 프로젝트 디렉터리에 상대적이어야 한다.
	</p></li><li><p> <code>dst: string</code>: 빌드된 HTML 파일이 위치할 디렉터리. 절대적이거나 프로젝트 디렉터리에 상대적이어야 한다.
	</p></li><li><p> <code>template: string</code> (optional): HTML 파일의 템플릿으로 사용할 <a href="https://ejs.co/" title="https://ejs.co/">EJS</a> 파일의 경로. 절대적이거나 프로젝트 디렉터리에 상대적이어야 한다. 제공되지 않으면 기본 템플릿이 사용된다.
	</p></li><li><p> <code>templateData: { [key: string]: any }</code> (optional): 템플릿에 넘길 데이터. 기본 템플릿에는 다음과 같은 값을 넘길 수 있다.
	</p><ul><li><p> <code>styles: string</code>: link나 style 태그 등의 HTML 코드
		</p></li><li><p> <code>scripts: string</code>: script 태그 등의 HTML 코드
	</p></li></ul><p>
	</p></li><li><p> <code>render: (text: string) =&gt; string</code>: 코드를 입력받아 HTML을 렌더링하는 함수.
	</p></li><li><p> <code>list: ListType</code>: 문서의 계층 구조를 나타내는 배열. 배열의 원소는 하나의 파일 또는 디렉터리를 나타낼 수 있다.</p><ul><li><p> <b>파일을 나타낼 경우</b>
</p><pre><code>{
	name: <i>목차에 나타날 이름</i>,
	file: <i>파일 이름</i>
}
</code></pre><p>파일 이름으로 <code>index</code>를 쓸 수 없다.</p></li><li><p> <b>디렉터리를 나타낼 경우</b>
</p><pre><code>{
	name: <i>목차에 나타날 이름</i>,
	dir: <i>디렉터리 이름</i>,
	list: ListType
}
</code></pre><p><code>list</code>에는 재귀적으로 파일 또는 디렉터리의 배열이 들어간다.
	</p></li></ul><p>
</p></li></ul><p>이 설명서가 지금 사용하고 있는 설정은 다음과 같다.</p><pre class="hljs"><code><span class="hljs-attribute">npm</span> install m<span class="hljs-number">42</span>kup@<span class="hljs-number">0</span>.<span class="hljs-number">3</span> katex@<span class="hljs-number">0</span>.<span class="hljs-number">15</span> highlight.js@<span class="hljs-number">10</span>
</code></pre><pre class="hljs"><code><span class="hljs-keyword">var</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;fs&#x27;</span>),
	path = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;path&#x27;</span>);

<span class="hljs-comment">// Finds out the version of a module.</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getVersion</span>(<span class="hljs-params">name</span>) </span>{
	<span class="hljs-keyword">var</span> dir = path.dirname(<span class="hljs-built_in">require</span>.resolve(name));

	<span class="hljs-keyword">while</span> (!fs.existsSync(path.join(dir, <span class="hljs-string">&#x27;package.json&#x27;</span>))) {
		dir = path.resolve(dir, <span class="hljs-string">&#x27;..&#x27;</span>);
	}
	
	<span class="hljs-keyword">return</span> <span class="hljs-built_in">require</span>(path.join(dir, <span class="hljs-string">&#x27;package&#x27;</span>)).version;
}

<span class="hljs-keyword">var</span> m42kup = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;m42kup&#x27;</span>),
	hljs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;highlight.js&#x27;</span>),
	katex = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;katex&#x27;</span>);

m42kup.set({hljs, katex});

<span class="hljs-keyword">var</span> styles = <span class="hljs-string">`&lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/highlight.js@<span class="hljs-subst">${getVersion(<span class="hljs-string">&#x27;highlight.js&#x27;</span>)}</span>/styles/tomorrow.min.css&quot;&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/katex@<span class="hljs-subst">${getVersion(<span class="hljs-string">&#x27;katex&#x27;</span>)}</span>/dist/katex.min.css&quot;&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/m42kup@<span class="hljs-subst">${getVersion(<span class="hljs-string">&#x27;m42kup&#x27;</span>)}</span>/web/m42kup.default.css&quot;&gt;`</span>;

<span class="hljs-built_in">module</span>.exports = {
	<span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;documentation-generator 설명서&#x27;</span>,
	<span class="hljs-attr">src</span>: <span class="hljs-string">&#x27;src&#x27;</span>,
	<span class="hljs-attr">dst</span>: <span class="hljs-string">&#x27;build&#x27;</span>,
	<span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-params">text</span> =&gt;</span> m42kup.render(text),
	<span class="hljs-attr">templateData</span>: {
		styles
	},
	<span class="hljs-attr">list</span>: [
		{
			<span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;소개&#x27;</span>,
			<span class="hljs-attr">file</span>: <span class="hljs-string">&#x27;introduction.m42kup&#x27;</span>
		},
		{
			<span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;설정 파일&#x27;</span>,
			<span class="hljs-attr">file</span>: <span class="hljs-string">&#x27;config-file.m42kup&#x27;</span>
		},
		{
			<span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;커스텀 템플릿&#x27;</span>,
			<span class="hljs-attr">file</span>: <span class="hljs-string">&#x27;templates.m42kup&#x27;</span>
		},
		{
			<span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;꿀팁&#x27;</span>,
			<span class="hljs-attr">file</span>: <span class="hljs-string">&#x27;honeytip.m42kup&#x27;</span>
		},
	]
};
</code></pre><p>디렉터리 구조는 다음과 같다.</p><pre><code>documentation-generator/docs
├ build
├ src
│ ├ config-file.m42kup
│ ├ honeytip.m42kup
│ ├ introduction.m42kup
│ └ templates.m42kup
├ documentation-generator.config.js
└ package.json 등
</code></pre><p>빌드를 하면 build 디렉터리가 다음과 같이 된다.</p><pre><code>build
├ config-file.html
├ honeytip.html
├ index.html
├ introduction.html
└ templates.html
</code></pre><p><code>index.html</code>은 루트 디렉터리를 위해 자동으로 생성된 것이다. 이는 모든 디렉터리에 대해 생성된다.</p>
			
		</div>
		<script>
			$ = (q, n) => (n || document).querySelector(q);

			var expanded = false;

			function applyExpandedState(expanded) {
				if (expanded) {
					$('#toc').classList.add('toc-expanded');
					$('#content').classList.add('toc-expanded');
				} else {
					$('#toc').classList.remove('toc-expanded');
					$('#content').classList.remove('toc-expanded');
				}
			}

			applyExpandedState(expanded);

			$('#toc-fold-toggle').addEventListener('click', _ => {
				expanded = !expanded;

				applyExpandedState(expanded);
			});
		</script>
	</body>
</html>